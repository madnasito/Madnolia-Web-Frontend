<div class="container d-flex justify-content-center align-items-center" style="min-height: 80vh;">
    <form [formGroup]="updatePasswordForm" (ngSubmit)="onSubmit()" class="p-4 rounded-3" 
          style="max-width: 400px; width: 100%; background: rgba(0, 0, 20, 0.8); backdrop-filter: blur(5px);">
        
        <h2 class="text-center mb-4" style="color: rgb(222, 244, 255); font-weight: 300; letter-spacing: 3px;">{{ 'RECOVER_PASSWORD.TITLE'| translate  }}</h2>
        
        <!-- Password Field -->
        <div class="mb-3">
            <input 
                type="password" 
                class="form-control bg-transparent border-top-0 border-start-0 border-end-0 rounded-0 px-0" 
                id="password"
                formControlName="password"
                placeholder="{{'FORM.INPUT.NEW_PASSWORD' | translate}}"
                [class.is-invalid]="password?.invalid && password?.touched"
                style="border-bottom: 1px solid rgba(0, 170, 255, 0.5); color: #fff;"
            >
            <div *ngIf="password?.invalid && password?.touched" class="invalid-feedback d-block">
                <small *ngIf="password?.errors?.['required']" style="color: #ff6b6b;">{{ 'FORM.VALIDATIONS.REQUIRED' | translate }}</small>
                <small *ngIf="password?.errors?.['minlength']" style="color: #ff6b6b;">
                    {{ 'FORM.VALIDATIONS.MIN_LENGTH' | translate: {count: 6} }}
                </small>
                <small *ngIf="password?.errors?.['maxlength']" style="color: #ff6b6b;">
                    {{ 'FORM.VALIDATIONS.MAX_LENGTH' | translate: {count: 64} }}
                </small>
            </div>
        </div>
        
        <!-- Confirm Password Field -->
        <div class="mb-4">
            <input 
                type="password" 
                class="form-control bg-transparent border-top-0 border-start-0 border-end-0 rounded-0 px-0" 
                id="repeated_password"
                formControlName="repeated_password"
                placeholder="{{ 'FORM.INPUT.PASSWORD2' | translate }}"
                
                style="border-bottom: 1px solid rgba(0, 170, 255, 0.5); color: #fff;"
            >
            <div *ngIf="repeated_password?.invalid && repeated_password?.touched" class="invalid-feedback d-block">
                <small *ngIf="repeated_password?.errors?.['required']" style="color: #ff6b6b;">
                    {{ 'FORM.VALIDATIONS.REQUIRED' | translate }}
                </small>
            </div>
            <div *ngIf="updatePasswordForm.invalid && repeated_password?.touched" class="invalid-feedback d-block">
                <small style="color: #ff6b6b;">{{ 'FORM.VALIDATIONS.PASSWORDS_DONT_MATCH' | translate }}</small>
            </div>
        </div>
        
        <!-- Submit Button -->
        <button 
            type="submit" 
            [disabled]="updatePasswordForm.invalid"
            class="btn w-100 py-2 border-0"
            [style.opacity]="updatePasswordForm.invalid ? '0.6' : '1'"
            style="color: #0af; background: transparent; letter-spacing: 1px; transition: opacity 0.3s ease;">
            {{'FORM.BUTTONS.UPDATE_PASSWORD' | translate }}
        </button>
    </form>
</div>

<ng-template #successTpl>{{'RECOVER_PASSWORD.PASSWORD_UPDATED' | translate }}</ng-template>

<ng-template #dangerTpl>
	<svg xmlns="http://www.w3.org/2000/svg" fill="#fff" width="24" height="24" viewBox="0 0 24 24">
		<path
			d="M10.872 6.831l1.695 3.904 3.654-1.561-1.79 3.426 3.333.954-3.417 1.338 2.231 4.196-4.773-2.582-2.869 2.287.413-3.004-3.792-.726 2.93-1.74-1.885-2.512 3.427.646.843-4.626zm-.786-6.831l-1.665 9.119-6.512-1.228 3.639 4.851-5.548 3.294 7.108 1.361-.834 6.076 5.742-4.577 9.438 5.104-4.288-8.064 6.834-2.677-6.661-1.907 3.25-6.22-6.98 2.982-3.523-8.114z"
		/>
	</svg>
	{{errorMessage}}
</ng-template>
<app-toasts aria-live="polite" aria-atomic="true"></app-toasts>